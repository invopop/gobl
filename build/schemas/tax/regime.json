{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://gobl.org/draft-0/tax/regime",
  "$ref": "#/$defs/Regime",
  "$defs": {
    "Category": {
      "properties": {
        "code": {
          "$ref": "https://gobl.org/draft-0/cbc/code",
          "title": "Code"
        },
        "name": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Name"
        },
        "desc": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Description"
        },
        "retained": {
          "type": "boolean",
          "title": "Retained",
          "description": "Retained when true implies that the tax amount will be retained\nby the buyer on behalf of the supplier, and thus subtracted from\nthe invoice taxable base total. Typically used for taxes related to\nincome."
        },
        "rate_required": {
          "type": "boolean",
          "title": "Rate Required",
          "description": "RateRequired when true implies that when a tax combo is defined using\nthis category that one of the rates must be defined."
        },
        "rates": {
          "items": {
            "$ref": "#/$defs/Rate"
          },
          "type": "array",
          "title": "Rates",
          "description": "Specific tax definitions inside this category."
        },
        "extensions": {
          "items": {
            "$ref": "https://gobl.org/draft-0/cbc/key"
          },
          "type": "array",
          "title": "Extensions",
          "description": "Extensions defines a list of keys for codes to use as an alternative to choosing a\nrate for the tax category. Every key must be defined in the Regime's extensions\ntable."
        },
        "map": {
          "$ref": "https://gobl.org/draft-0/cbc/code-map",
          "title": "Map",
          "description": "Map defines a set of regime specific code mappings."
        },
        "meta": {
          "$ref": "https://gobl.org/draft-0/cbc/meta",
          "title": "Meta",
          "description": "Meta contains additional information about the category that is relevant\nfor local frequently used formats."
        }
      },
      "type": "object",
      "required": [
        "code",
        "name"
      ],
      "description": "Category contains the definition of a general type of tax inside a region."
    },
    "CodeDefinition": {
      "properties": {
        "code": {
          "$ref": "https://gobl.org/draft-0/cbc/code",
          "title": "Code",
          "description": "Code for which the definition is for."
        },
        "name": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Name",
          "description": "Short name for the code, if relevant."
        },
        "desc": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Description",
          "description": "Description offering more details about when the code should be used."
        }
      },
      "type": "object",
      "required": [
        "code"
      ],
      "description": "CodeDefinition describes a specific code and how it maps to a human name and description if appropriate."
    },
    "KeyDefinition": {
      "properties": {
        "key": {
          "$ref": "https://gobl.org/draft-0/cbc/key",
          "title": "Key",
          "description": "Actual key value."
        },
        "name": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Name",
          "description": "Short name for the key, if relevant."
        },
        "desc": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Description",
          "description": "Description offering more details about when the key should be used."
        },
        "codes": {
          "items": {
            "$ref": "#/$defs/CodeDefinition"
          },
          "type": "array",
          "title": "Codes",
          "description": "Codes describes the list of codes that can be used alongside the Key,\nfor example with identities."
        },
        "map": {
          "$ref": "https://gobl.org/draft-0/cbc/code-map",
          "title": "Map",
          "description": "Map helps map local keys to specific codes, useful for converting the\ndescribed key into a local code."
        }
      },
      "type": "object",
      "required": [
        "key"
      ],
      "description": "KeyDefinition defines properties of a key that is specific for a regime."
    },
    "PrecedingDefinitions": {
      "properties": {
        "types": {
          "items": {
            "$ref": "https://gobl.org/draft-0/cbc/key"
          },
          "type": "array",
          "title": "Types",
          "description": "The types of sub-documents supported by the regime"
        },
        "stamps": {
          "items": {
            "$ref": "https://gobl.org/draft-0/cbc/key"
          },
          "type": "array",
          "title": "Stamps",
          "description": "Stamps that must be copied from the preceding document."
        },
        "corrections": {
          "items": {
            "$ref": "#/$defs/KeyDefinition"
          },
          "type": "array",
          "title": "Corrections",
          "description": "Corrections contains a list of all the keys that can be used to identify a correction."
        },
        "correction_methods": {
          "items": {
            "$ref": "#/$defs/KeyDefinition"
          },
          "type": "array",
          "title": "Correction Methods",
          "description": "CorrectionMethods describe the methods used to correct an invoice."
        }
      },
      "type": "object",
      "description": "PrecedingDefinitions contains details about what can be defined in Invoice preceding document data."
    },
    "Rate": {
      "properties": {
        "key": {
          "$ref": "https://gobl.org/draft-0/cbc/key",
          "title": "Key",
          "description": "Key identifies this rate within the system"
        },
        "name": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Name",
          "description": "Human name of the rate"
        },
        "desc": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Description",
          "description": "Useful description of the rate."
        },
        "exempt": {
          "type": "boolean",
          "title": "Exempt",
          "description": "Exempt when true implies that the rate when used in a tax Combo should\nnot define a percent value."
        },
        "values": {
          "items": {
            "$ref": "#/$defs/RateValue"
          },
          "type": "array",
          "title": "Values",
          "description": "Values contains a list of Value objects that contain the\ncurrent and historical percentage values for the rate and\nadditional filters.\nOrder is important, newer values should come before\nolder values."
        },
        "extensions": {
          "items": {
            "$ref": "https://gobl.org/draft-0/cbc/key"
          },
          "type": "array",
          "title": "Extensions",
          "description": "Extensions defines a list of keys for codes that can or must be associated with the\ntax rate for it to be validated. Every key must be defined in the Regime's\nextensions."
        },
        "map": {
          "$ref": "https://gobl.org/draft-0/cbc/code-map",
          "title": "Map",
          "description": "Map is used to associate specific codes with the chosen rate."
        },
        "meta": {
          "$ref": "https://gobl.org/draft-0/cbc/meta",
          "title": "Meta",
          "description": "Meta contains additional information about the rate that is relevant\nfor local frequently used implementations."
        }
      },
      "type": "object",
      "required": [
        "key",
        "name"
      ],
      "description": "Rate defines a single rate inside a category"
    },
    "RateValue": {
      "properties": {
        "zones": {
          "items": {
            "$ref": "https://gobl.org/draft-0/l10n/code"
          },
          "type": "array",
          "title": "Zones",
          "description": "Only use this value if one of the zones matches."
        },
        "since": {
          "$ref": "https://gobl.org/draft-0/cal/date",
          "title": "Since",
          "description": "Date from which this value should be applied."
        },
        "percent": {
          "$ref": "https://gobl.org/draft-0/num/percentage",
          "title": "Percent",
          "description": "Percent rate that should be applied"
        },
        "surcharge": {
          "$ref": "https://gobl.org/draft-0/num/percentage",
          "title": "Surcharge",
          "description": "An additional surcharge to apply."
        },
        "disabled": {
          "type": "boolean",
          "title": "Disabled",
          "description": "When true, this value should no longer be used."
        }
      },
      "type": "object",
      "required": [
        "percent"
      ],
      "description": "RateValue contains a percentage rate or fixed amount for a given date range."
    },
    "Regime": {
      "properties": {
        "name": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Name",
          "description": "Name of the country"
        },
        "time_zone": {
          "type": "string",
          "title": "Time Zone",
          "description": "Location name for the country's central time zone. Accepted\nvalues from IANA Time Zone Database (https://iana.org/time-zones)."
        },
        "country": {
          "$ref": "https://gobl.org/draft-0/l10n/country-code",
          "title": "Code",
          "description": "Country code for the region"
        },
        "zone": {
          "$ref": "https://gobl.org/draft-0/l10n/code",
          "title": "Zone",
          "description": "Specific Locality, region, city, province, county, or similar code inside\nthe country, if needed."
        },
        "zones": {
          "items": {
            "$ref": "#/$defs/Zone"
          },
          "type": "array",
          "title": "Zones",
          "description": "List of sub-zones inside a country."
        },
        "currency": {
          "$ref": "https://gobl.org/draft-0/currency/code",
          "title": "Currency",
          "description": "Currency used by the country."
        },
        "tags": {
          "items": {
            "$ref": "#/$defs/KeyDefinition"
          },
          "type": "array",
          "title": "Tags",
          "description": "Tags that can be applied at the document level to identify additional\nconsiderations."
        },
        "identity_types": {
          "items": {
            "$ref": "#/$defs/KeyDefinition"
          },
          "type": "array",
          "title": "Identity Types",
          "description": "Identity types specific for the regime and may be validated\nagainst."
        },
        "extensions": {
          "items": {
            "$ref": "#/$defs/KeyDefinition"
          },
          "type": "array",
          "title": "Extensions",
          "description": "Extensions defines the keys that can be used for extended or extra data inside the regime that\nis specific to the regime and cannot be easily determined from other GOBL structures.\nTypically these are used to define local codes for suppliers, customers, products, or tax rates."
        },
        "charge_types": {
          "items": {
            "$ref": "#/$defs/KeyDefinition"
          },
          "type": "array",
          "title": "Charge Types",
          "description": "Charge types specific for the regime and may be validated or used in the UI as suggestions"
        },
        "payment_means": {
          "items": {
            "$ref": "#/$defs/KeyDefinition"
          },
          "type": "array",
          "title": "Payment Means",
          "description": "PaymentMeansKeys specific for the regime that extend the original\nbase payment means keys."
        },
        "item_keys": {
          "items": {
            "$ref": "#/$defs/KeyDefinition"
          },
          "type": "array",
          "title": "Item Keys",
          "description": "ItemKeys specific for the regime that need to be added to `org.Item` data\nin line rows."
        },
        "scenarios": {
          "items": {
            "$ref": "#/$defs/ScenarioSet"
          },
          "type": "array",
          "title": "Scenarios",
          "description": "Sets of scenario definitions for the regime."
        },
        "preceding": {
          "$ref": "#/$defs/PrecedingDefinitions",
          "title": "Preceding",
          "description": "Configuration details for preceding options."
        },
        "categories": {
          "items": {
            "$ref": "#/$defs/Category"
          },
          "type": "array",
          "title": "Categories",
          "description": "List of tax categories."
        }
      },
      "type": "object",
      "required": [
        "name",
        "time_zone",
        "country",
        "currency",
        "categories"
      ],
      "description": "Regime defines the holding structure for the definitions of taxes inside a country or territory."
    },
    "Scenario": {
      "properties": {
        "type": {
          "items": {
            "$ref": "https://gobl.org/draft-0/cbc/key"
          },
          "type": "array",
          "title": "Type",
          "description": "Type of document, if present."
        },
        "tags": {
          "items": {
            "$ref": "https://gobl.org/draft-0/cbc/key"
          },
          "type": "array",
          "title": "Tag",
          "description": "Tag that was applied to the document"
        },
        "name": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Name",
          "description": "Name of the scenario for further information."
        },
        "note": {
          "$ref": "https://gobl.org/draft-0/cbc/note",
          "title": "Note",
          "description": "A note to be added to the document if the scenario is applied."
        },
        "codes": {
          "$ref": "https://gobl.org/draft-0/cbc/code-map",
          "title": "Codes",
          "description": "Codes is used to define additional codes for regime specific\nsituations."
        },
        "meta": {
          "$ref": "https://gobl.org/draft-0/cbc/meta",
          "title": "Meta",
          "description": "Any additional local meta data that may be useful in integrations."
        }
      },
      "type": "object",
      "description": "Scenario is used to describe a tax scenario of a document based on the combination of document type and tag used."
    },
    "ScenarioSet": {
      "properties": {
        "schema": {
          "type": "string",
          "title": "Schema",
          "description": "Partial or complete schema URL for the document type"
        },
        "list": {
          "items": {
            "$ref": "#/$defs/Scenario"
          },
          "type": "array",
          "title": "List",
          "description": "List of scenarios for the schema"
        }
      },
      "type": "object",
      "required": [
        "schema",
        "list"
      ],
      "description": "ScenarioSet is a collection of tax scenarios for a given schema that can be used to determine special codes or notes that need to be included in the final document."
    },
    "Zone": {
      "properties": {
        "code": {
          "$ref": "https://gobl.org/draft-0/l10n/code",
          "title": "Code",
          "description": "Unique zone code."
        },
        "name": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Name",
          "description": "Name of the zone to be use if a locality or region is not applicable."
        },
        "locality": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Locality",
          "description": "Village, town, district, or city name which should coincide with\naddress data."
        },
        "region": {
          "$ref": "https://gobl.org/draft-0/i18n/string",
          "title": "Region",
          "description": "Province, county, or state which should match address data."
        },
        "codes": {
          "$ref": "https://gobl.org/draft-0/cbc/code-map",
          "title": "Codes",
          "description": "Codes defines a set of regime specific code mappings."
        },
        "meta": {
          "$ref": "https://gobl.org/draft-0/cbc/meta",
          "title": "Meta",
          "description": "Any additional information"
        }
      },
      "type": "object",
      "required": [
        "code"
      ],
      "description": "Zone represents an area inside a country, like a province or a state, which shares the basic definitions of the country, but may vary in some validation rules."
    }
  },
  "$comment": "Generated with GOBL v0.54.0"
}